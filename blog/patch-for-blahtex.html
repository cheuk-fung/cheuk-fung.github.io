<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <title>Patch for Blahtex &larr; Blog</title>
        <meta name="author" content="Ng Cheuk-fung" />

        <link rel="start" href="/" />

        

        

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/files/css/syntax.css" type="text/css" />

        <!-- Homepage CSS -->
        <link rel="stylesheet" href="/files/css/screen.css" type="text/css" media="all" />
        <link rel="stylesheet" href="/files/css/print.css" type="text/css" media="print" />

        
    </head>
    <body id="">
        <div id="site">

            <div id="header">
    <h1>
    <a href="/blog">Blog</a>
    <span class="byline">&larr; <a href="/">The Stars My Destination</a></span>
</h1>
<ul class="nav">
    <li><a class="home" href="/">Home</a></li>
    <li><a class="info" href="/info">Info</a></li>
    <li><a class="code" href="/code">Code</a></li>
    <li><a class="past" href="/blog/past.html">Past</a></li>
</ul>

</div>


<div id="page">

    <h1 class="emphnext">Patch for Blahtex</h1>

    <p>If you want to enable <a href="http://maruku.rubyforge.org">Maruku</a>’s support of inline LaTeX-style math<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup>
using <a href="http://gva.noekeon.org/blahtexml">blahtex</a>, then this patch would help.</p>

<p>When compiling blahtex, I met the following error:</p>

<pre><code>$ make blahtex-linux
mkdir -p bin-blahtex
g++ -I. -ISource -ISource/BlahtexCore -ISource/BlahtexXMLin -O2 -c
Source/main.cpp -o bin-blahtex/main.o
Source/main.cpp: In function ‘int main(int, char* const*)’:
Source/main.cpp:552:21: error: ‘isatty’ was not declared in this scope
make: *** [bin-blahtex/main.o] Error 1
</code></pre>

<p>According to the man page of <code>isatty</code>, it should has <code>unistd.h</code>
included. Another file <code>mainPng.cpp</code> has the same problem. We can fix it
by including <code>unistd.h</code> in both files.</p>

<p>Here’s the patch:</p>

<script src="https://gist.github.com/4050492.js"> </script>

<p>And for Arch Linux users, you can build from <a href="https://aur.archlinux.org/packages/blahtex">aur</a>.</p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>More information about math support in maruku: <a href="http://maruku.rubyforge.org/math.xhtml">http://maruku.rubyforge.org/math.xhtml</a><a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>


    <address class="signature">
        <a class="author" href="/">Ng Cheuk-fung</a> 
        <span class="date">10 November 2012</span>
        <span class="location">NKU, China</span>
    </address>
</div><!-- End Page -->
<!-- Disqus Comments -->
<div id="disqus_thread"></div>

<!-- Enable Disqus comments -->
<script type="text/javascript">
    var disqus_iframe_css = "leewings.github.io/files/css/screen.css";
    var disqus_title = "Patch for Blahtex";
    var disqus_message = "A solution of error: ‘isatty’ was not declared in this scope";
</script>
<script type="text/javascript" src="http://disqus.com/forums/cheuk-fung/embed.js"></script>

<noscript>
    <a href="http://cheuk-fung.disqus.com/?url=ref">View the discussion thread.</a>
</noscript>





            <div id="footer">
                <address>
                    <span class="copyright">
                        Content by 
                        <a href="/">Ng Cheuk-fung</a>
                        <br />
                        Original design by 
                        <a href="http://mark.reid.name/">Mark Reid</a>
                    </span>
                    <span class="engine">
                        Powered by 
                        <a href="https://github.com/mojombo/jekyll/" title="A simple, blog aware, static site generator">Jekyll</a>
                        <br/>
                        <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/80x15.png" /></a>
                    </span>
                </address>
            </div>
        </div>
    </body>
</html>
